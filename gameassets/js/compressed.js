var bootScene=new Phaser.Scene("boot");bootScene.preload=function(){this.load.image("rubbleLogoLarge","gameassets/images/rubbleLogoLargeBorder.png")},bootScene.create=function(){this.scene.start("preload")};var mute,jsonText,possibleResponsesArray,possibleIngredientsArray,loadingText,lang,siteReady=!1,preloadScene=new Phaser.Scene("preload");preloadScene.preload=function(){var a=this.add.image(512,200,"rubbleLogoLarge");a.alpha=0,loadingText=this.add.text(447,350,"Loading...",{fontSize:"38px",fill:"#fff"}).setFontFamily("Arial"),this.tweens.add({targets:a,alpha:1,ease:"Sine.easeIn",duration:2e3}),this.load.spritesheet("madScientist","gameassets/images/pixelMadScientist.png",{frameWidth:64,frameHeight:96}),this.load.spritesheet("monsters","gameassets/images/pixelZombie.png",{frameWidth:48,frameHeight:96}),this.load.spritesheet("victims","gameassets/images/pixelMan.png",{frameWidth:64,frameHeight:96}),this.load.spritesheet("speechBubble","gameassets/images/speechBubbleAnim.png",{frameWidth:178,frameHeight:146}),this.load.spritesheet("computer","gameassets/images/computer.png",{frameWidth:156,frameHeight:134}),this.load.spritesheet("treadmill","gameassets/images/treadmill.png",{frameWidth:86,frameHeight:76}),this.load.spritesheet("ingredients","gameassets/images/ingredients.png",{frameWidth:38,frameHeight:32}),this.load.spritesheet("electricEffect","gameassets/images/electricEffect24x24.png",{frameWidth:24,frameHeight:24}),this.load.spritesheet("zombieDeath","gameassets/images/zombieDeathTrimmed.png",{frameWidth:96,frameHeight:96}),this.load.spritesheet("conveyor","gameassets/images/conveyor_belt.png",{frameWidth:400,frameHeight:50}),this.load.spritesheet("crates","gameassets/images/crates.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("splatter","gameassets/images/splatter.png",{frameWidth:400,frameHeight:300}),this.load.audio("pop",["gameassets/audio/pop.mp3"]),this.load.audio("conveyor",["gameassets/audio/conveyor_belt.mp3"]),this.load.audio("growl",["gameassets/audio/growl.mp3"]),this.load.audio("zap",["gameassets/audio/laserPulse.mp3"]),this.load.audio("treadmill",["gameassets/audio/treadmill.mp3"]),this.load.audio("win",["gameassets/audio/win.mp3"]),this.load.audio("woosh",["gameassets/audio/woosh.mp3"]),this.load.audio("scream",["gameassets/audio/scream.mp3"]),this.load.audio("squelch",["gameassets/audio/squelch.mp3"]),this.load.audio("smash",["gameassets/audio/woodSmash.mp3"]),this.load.image("officeBackground","gameassets/images/officeBackground.png"),this.load.image("labBackground","gameassets/images/labBackground.png"),this.load.image("blankBackground","gameassets/images/blankBackground.png"),this.load.image("menuBackground","gameassets/images/titleScreen.png"),this.load.image("labSign","gameassets/images/labSign.png"),this.load.image("table","gameassets/images/table.png"),this.load.image("buttonLong","gameassets/images/button200x66blue.png"),this.load.image("buttonLarge","gameassets/images/pixelBlankButton240x80.png"),this.load.json("text","gameassets/js/gameText.json")},preloadScene.create=function(){LoLApi("gameIsReady",{aspectRatio:"16:9",resolution:"1024x576"}),loadingText.text=" Ready",window.addEventListener("message",function(a){var{messageName:b,payload:c}=a.data;switch(a.data.messageName){case"start":var d=JSON.parse(a.data.payload);lang=d.languageCode,siteReady=!0;}})},preloadScene.update=function(){siteReady&&(siteReady=!1,this.loadPage())},preloadScene.loadPage=function(){jsonText=this.cache.json.get("text"),jsonText=jsonText[lang],this.animsCreate(),possibleIngredientsArray=[[jsonText.possIngredients0,0],[jsonText.possIngredients1,1],[jsonText.possIngredients2,2],[jsonText.possIngredients3,3],[jsonText.possIngredients4,4],[jsonText.possIngredients5,5]],possibleResponsesArray=[jsonText.possResponses0,jsonText.possResponses1,jsonText.possResponses2];var a=this.add.sprite(512,375,"buttonLarge").setInteractive({useHandCursor:!0});a.on("pointerdown",this.start),this.add.text(517,375,jsonText.pre1,{fontSize:"38px",fill:"#000"}).setFontStyle("bold italic").setFontFamily("Arial").setPadding({right:16}).setOrigin(.5);var b=this.add.sprite(512,475,"buttonLarge").setInteractive({useHandCursor:!0});b.on("pointerdown",this.startMuted),this.add.text(517,475,jsonText.pre2,{fontSize:"38px",fill:"#000"}).setFontStyle("bold italic").setFontFamily("Arial").setPadding({right:16}).setOrigin(.5)},preloadScene.start=function(){preloadScene.scene.stop("preload"),preloadScene.scene.start("menu")},preloadScene.startMuted=function(){mute=!0,preloadScene.scene.stop("preload"),preloadScene.scene.start("menu")},preloadScene.animsCreate=function(){this.anims.create({key:"msStand",frames:this.anims.generateFrameNumbers("madScientist",{frames:[0,1,0,1,0,1,2,0,2,1,2,0,1,0,1,2,0,1,3,0,3,1]}),frameRate:6,repeat:-1}),this.anims.create({key:"msTalk",frames:this.anims.generateFrameNumbers("madScientist",{frames:[6,7,6,7,6,7,8,7,8,6,7,6,7,8,6,7,3,6,7,6,7]}),frameRate:8,repeat:-1}),this.anims.create({key:"msWalk",frames:this.anims.generateFrameNumbers("madScientist",{frames:[4,0,5]}),frameRate:6,repeat:-1}),this.anims.create({key:"victimRun",frames:this.anims.generateFrameNumbers("victims",{frames:[1,3,2,3]}),frameRate:8,repeat:-1}),this.anims.create({key:"monsterRun",frames:this.anims.generateFrameNumbers("monsters",{frames:[3,5,4,5]}),frameRate:8,repeat:-1}),this.anims.create({key:"bubbleOpen",frames:this.anims.generateFrameNumbers("speechBubble",{frames:[0,1,2,3]}),frameRate:16,repeat:0}),this.anims.create({key:"bubbleClose",frames:this.anims.generateFrameNumbers("speechBubble",{frames:[3,2,1,0]}),frameRate:16,repeat:0}),this.anims.create({key:"treadmillActive",frames:this.anims.generateFrameNumbers("treadmill",{frames:[0,1,2]}),frameRate:16,repeat:-1}),this.anims.create({key:"electricEffect",frames:this.anims.generateFrameNumbers("electricEffect",{frames:[0,1,2,3]}),frameRate:12,repeat:-1}),this.anims.create({key:"death",frames:this.anims.generateFrameNumbers("zombieDeath",{frames:[0,1,2]}),frameRate:6,repeat:0}),this.anims.create({key:"conveyorActive",frames:this.anims.generateFrameNumbers("conveyor",{frames:[0,1,2,3,1,2,3,1,2]}),frameRate:16,repeat:-1}),this.anims.create({key:"conveyorActiveRight",frames:this.anims.generateFrameNumbers("conveyor",{frames:[3,2,1,0,2,1,3,2,1]}),frameRate:16,repeat:-1})};var menuScene=new Phaser.Scene("menu");menuScene.create=function(){var a=this.add.image(512,288,"menuBackground"),b=this.add.sprite(512,375,"buttonLarge").setInteractive({useHandCursor:!0});if(b.on("pointerdown",this.start),this.add.text(517,375,jsonText.pre1,{fontSize:"38px",fill:"#000"}).setFontStyle("bold italic").setFontFamily("Arial").setPadding({right:16}).setOrigin(.5),!mute){var c=this.sound.add("growl");c.play(),LoLApi("speakText",{key:"pre1"})}},menuScene.start=function(){menuScene.scene.stop("menu"),menuScene.scene.start("main")};var madScientistSprite,bubbleSprite,dataTable,line,xArray,graphAxisTextArray,nextButton,nextButtonLabel,bubbleSprite,bubbleText,lineButton,lineButtonLabel,stemButton,stemButtonLabel,ingredientsButtonArray,correctGraphType,broken,brokenStemLeafArray,brokenLinePlotArray,brokenAmount,brokenType,unitsOnlyArray,winSfx,textNumber=0,namesArray=[],speedArray=[],lifeArray=[],speedArrayOriginal=[],lifeArrayOriginal=[],speedArray1=[],lifeArray1=[],speedArray2=[],lifeArray2=[],speedArray3=[],lifeArray3=[],stemPlotArray=[],sortedDisplayArray=[],extraIngredient1={name:"none",speed:0,lifetime:0,frame:0},extraIngredient2={name:"none",speed:0,lifetime:0},extraIngredient3={name:"none",speed:0,lifetime:0},bubbleVisible=!1,mainScene=new Phaser.Scene("main");mainScene.create=function(){0==textNumber&&(this.shuffle(possibleIngredientsArray),this.shuffle(possibleResponsesArray)),broken=!1,ingredientsButtonArray=[],brokenStemLeafArray=[],brokenLinePlotArray=[],unitsOnlyArray=[];var a=this.add.image(512,276,"officeBackground");a.setScale(2),madScientistSprite=this.add.sprite(810,480,"madScientist"),madScientistSprite.setScale(2),madScientistSprite.anims.play("msStand");var b=this.changeText();this.createBubble(715,276,b);var c=this.add.image(200,452,"computer");c.setScale(.65);var d=this.add.image(200,536,"table");d.setScale(1.25),dataTable=this.add.sprite(320,280,"computer"),dataTable.setFrame(1),dataTable.setScale(4),dataTable.visible=!1,nextButton=this.add.sprite(512,530,"buttonLarge").setInteractive({useHandCursor:!0});var e=this;nextButton.on("pointerdown",function(){bubbleText.text="",bubbleVisible&&bubbleSprite.anims.play("bubbleClose"),e.time.delayedCall(500,function(){mainScene.nextStep()},[],this)}),nextButton.visible=!1,nextButtonLabel=this.add.text(517,530,jsonText.mainButton1,{fontSize:"38px",fill:"#000"}).setFontStyle("bold italic").setFontFamily("Arial").setPadding({right:16}).setOrigin(.5),nextButtonLabel.visible=!1,mute||(winSfx=this.sound.add("win"),speechBubbleSfx=this.sound.add("pop"))},mainScene.nextStep=function(){bubbleText.text="",madScientistSprite.anims.play("msStand"),nextButton.visible=!1,nextButtonLabel.visible=!1;var a;if(6==textNumber&&!dataTable.visible)mainScene.showData(4,10);else if(8==textNumber)mainScene.createStemAndLeafPlot(lifeArray);else if(10==textNumber)mainScene.createStemAndLeafPlot(speedArray);else if(12==textNumber)mainScene.createLinePlot(speedArray);else if(14==textNumber)mainScene.hideData(),mainScene.addIngredients(),a=mainScene.changeText(),mainScene.createBubble(715,276,a);else if(16==textNumber)mainScene.zoomToLab();else if(17==textNumber&&!dataTable.visible)mainScene.showData(extraIngredient1.speed,extraIngredient1.lifetime);else if(19==textNumber){for(var b=0;b<lifeArray.length;b++)namesArray[b].visible=!1,lifeArray[b].visible=!1;mainScene.chooseGraph(lifeArray)}else if(20==textNumber)mainScene.hideData(!0),broken=!0,mainScene.createStemAndLeafPlot(lifeArray);else if(23==textNumber)mainScene.chooseGraph(speedArray);else if(24==textNumber){for(var b=0;b<unitsOnlyArray.length;b++)unitsOnlyArray[b].visible=!1;for(var b=0;b<stemPlotArray.length;b++)stemPlotArray[b].visible=!1;for(var b=0;b<sortedDisplayArray.length;b++)sortedDisplayArray[b].visible=!1;mainScene.hideData(!0),broken=!0,mainScene.createLinePlot(speedArray)}else 28==textNumber?(LoLApi("completeGame",{}),mainScene.reset(),mainScene.scene.stop("main"),mainScene.scene.start("menu")):(a=mainScene.changeText(),mainScene.createBubble(715,276,a))},mainScene.reset=function(){textNumber=0,namesArray=[],speedArray=[],lifeArray=[],stemPlotArray=[],sortedDisplayArray=[]},mainScene.createBubble=function(a,b,c){bubbleVisible=!0,bubbleSprite=this.add.sprite(a,b,"speechBubble"),bubbleSprite.setScale(2),bubbleSprite.setTint(16711601),bubbleSprite.on("animationcomplete",function(a,b){this.emit("animationcomplete_"+a.key,a,b)},bubbleSprite),bubbleSprite.anims.play("bubbleOpen"),bubbleSprite.on("animationcomplete_bubbleOpen",function(){bubbleSprite.setFrame(3)}),bubbleSprite.on("animationcomplete_bubbleClose",function(){bubbleSprite.destroy(),bubbleVisible=!1}),bubbleText=this.add.text(a,b-20,c,{fontSize:"26px",fill:"#000",wordWrap:{width:320,useAdvancedWrap:!0}}).setFontFamily("Verdana").setOrigin(.5),bubbleText.visible=!1,this.time.delayedCall(250,function(){bubbleText.visible=!0,madScientistSprite.anims.play("msTalk"),mute||speechBubbleSfx.play()},[],this),this.time.delayedCall(7500,function(){madScientistSprite.anims.play("msStand"),broken?(bubbleText.text="",bubbleVisible&&bubbleSprite.anims.play("bubbleClose")):15!=textNumber&&(nextButton.visible=!0,28==textNumber&&(!mute&&winSfx.play(),nextButtonLabel.text=jsonText.mainButton2),nextButtonLabel.visible=!0)},[],this)},mainScene.changeText=function(){var a,b,c;switch(textNumber){case 0:a=jsonText.mainText0,textNumber++;break;case 1:a=jsonText.mainText1,textNumber++;break;case 2:a=jsonText.mainText2,textNumber++;break;case 3:a=jsonText.mainText3,textNumber++;break;case 4:a=jsonText.mainText4,textNumber++;break;case 5:a=jsonText.mainText5,textNumber++;break;case 6:c={currentProgress:1,maximumProgress:13},LoLApi("progress",c),a=jsonText.mainText6,textNumber++;break;case 7:a=jsonText.mainText7,textNumber++;for(var d=0;d<speedArray.length;d++)speedArray[d].visible=!1,this.tweens.add({targets:lifeArray[d],x:"-=190",ease:"Sine.easeIn",duration:500});break;case 8:c={currentProgress:2,maximumProgress:13},LoLApi("progress",c),a=jsonText.mainText8,textNumber+=.5;break;case 8.5:a=jsonText.mainText8_5,textNumber+=.5;break;case 9:c={currentProgress:3,maximumProgress:13},LoLApi("progress",c),a=jsonText.mainText9,textNumber++;for(var d=0;d<unitsOnlyArray.length;d++)unitsOnlyArray[d].visible=!1;for(var d=0;d<stemPlotArray.length;d++)stemPlotArray[d].visible=!1;for(var d=0;d<sortedDisplayArray.length;d++)sortedDisplayArray[d].visible=!1;for(var d=0;d<speedArray.length;d++)namesArray[d].visible=!0,speedArray[d].visible=!0;break;case 10:a=jsonText.mainText10,textNumber++;break;case 11:c={currentProgress:4,maximumProgress:13},LoLApi("progress",c),a=jsonText.mainText11,textNumber+=.5;for(var d=0;d<unitsOnlyArray.length;d++)unitsOnlyArray[d].visible=!1;for(var d=0;d<stemPlotArray.length;d++)stemPlotArray[d].visible=!1;for(var d=0;d<sortedDisplayArray.length;d++)sortedDisplayArray[d].visible=!1;for(var d=0;d<speedArray.length;d++)namesArray[d].visible=!0,speedArray[d].visible=!0;break;case 11.5:a=jsonText.mainText11_5,textNumber+=.5;break;case 12:for(var e=[],d=0;d<speedArray.length;d++)e.push(parseFloat(speedArray[d].text));var f=this.findMode(e),g=f[0];1==f.length?a=jsonText.mainText12a1+f[0]+jsonText.mainText12a2:2==f.length?a=jsonText.mainText12b1+f[0]+jsonText.mainText12b2+f[1]+jsonText.mainText12b3:3==f.length&&(a=jsonText.mainText12b1+f[2]+", "+f[0]+jsonText.mainText12b2+f[1]+jsonText.mainText12b3),textNumber++;break;case 13:c={currentProgress:5,maximumProgress:13},LoLApi("progress",c),a=jsonText.mainText13,textNumber++;break;case 14:a=jsonText.mainText14,textNumber++;break;case 15:a=possibleResponsesArray[0],possibleResponsesArray.splice(0,1),textNumber++;break;case 16:c={currentProgress:7,maximumProgress:13},LoLApi("progress",c),a=jsonText.mainText16,namesArray=[],speedArrayOriginal=speedArray,speedArray=[],lifeArrayOriginal=lifeArray,lifeArray=[],textNumber++;break;case 17:a=jsonText.mainText17,textNumber++;for(var d=0;d<speedArray.length;d++)speedArray[d].visible=!1,this.tweens.add({targets:lifeArray[d],x:"-=190",ease:"Sine.easeIn",duration:500});break;case 18:c={currentProgress:8,maximumProgress:13},LoLApi("progress",c),a=jsonText.mainText18,textNumber++;break;case 19:correctGraphType?(a=jsonText.mainText19a,textNumber+=2):(a=jsonText.mainText19b,textNumber++);break;case 20:a=jsonText.mainText20,textNumber++;break;case 21:c={currentProgress:9,maximumProgress:13},LoLApi("progress",c),b=extraIngredient1.lifetime-10,a=mainScene.showDifference(b),textNumber++;break;case 22:c={currentProgress:10,maximumProgress:13},LoLApi("progress",c);for(var d=0;d<unitsOnlyArray.length;d++)unitsOnlyArray[d].visible=!1;for(var d=0;d<lifeArray.length;d++)lifeArray[d].visible=!1;for(var d=0;d<brokenStemLeafArray.length;d++)brokenStemLeafArray[d].visible=!1;for(var d=0;d<stemPlotArray.length;d++)stemPlotArray[d].visible=!1;for(var d=0;d<sortedDisplayArray.length;d++)sortedDisplayArray[d].visible=!1;for(var d=0;d<namesArray.length;d++)namesArray[d].visible=!0,speedArray[d].visible=!0;a=jsonText.mainText22,textNumber++;break;case 23:correctGraphType?(a=jsonText.mainText23a,textNumber+=2):(mainScene.hideData(!0),a=jsonText.mainText23b,textNumber++);break;case 24:a=jsonText.mainText24,textNumber++;break;case 25:c={currentProgress:11,maximumProgress:13},LoLApi("progress",c),b=extraIngredient1.speed-4,a=mainScene.showDifference(b),textNumber++;break;case 26:c={currentProgress:12,maximumProgress:13},LoLApi("progress",c),mainScene.hideData(!1),a=mainScene.finalResultText(),textNumber++;break;case 27:c={currentProgress:13,maximumProgress:13},LoLApi("progress",c),a=jsonText.mainText27,textNumber++;}return a},mainScene.showData=function(a,b){dataTable.visible=!0;var c=this.add.text(80,80,"Subject",{fontSize:"24px",fill:"#008106"}).setFontFamily("Verdana").setFontStyle("bold"),d=this.add.text(240,80,"Top Speed",{fontSize:"24px",fill:"#008106"}).setFontFamily("Verdana").setFontStyle("bold"),e=this.add.text(430,80,"Lifetime",{fontSize:"24px",fill:"#008106"}).setFontFamily("Verdana").setFontStyle("bold");namesArray.push(c),speedArray.push(d),lifeArray.push(e);var f=[a,a+1,a+2,a+3,a,a-1,a-2,a-3,a,a+1,a+2,a,a-1,a-2,a,a+1,a-1];this.shuffle(f);var g=[b,b+1,b+2,b+3,b+4,b-1,b-2,b-3,2*b,2*b+1,2*b+2,2*b+3,2*b-1,2*b-2,2*b-3,3*b,3*b+1,3*b-1,3*b-2,3*b-3];this.shuffle(g);for(var h=1;15>=h;h++){var j=this.add.text(80,90+25*h,"Monster "+h,{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana"),k=this.add.text(360,108+25*h,f[h-1],{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana").setOrigin(0,1),l=this.add.text(515,108+25*h,g[h-1],{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana").setOrigin(0,1);namesArray.push(j),speedArray.push(k),lifeArray.push(l)}this.time.delayedCall(500,function(){nextButton.visible=!0,nextButtonLabel.visible=!0},[],this)},mainScene.showDifference=function(a){var b;return 1<a?b=jsonText.diffResponse1:1==a?b=jsonText.diffResponse2:0==a?b=jsonText.diffResponse3:-1==a?b=jsonText.diffResponse4:-1>a&&(b=jsonText.diffResponse5),b},mainScene.finalResultText=function(){var a,b,c,d=extraIngredient1.lifetime-10,e=extraIngredient1.speed-4,f=jsonText.finalResponse1+extraIngredient1.name+jsonText.finalResponse2;return 1<d?b=jsonText.finalResponse3:1==d?b=jsonText.finalResponse4:0==d?b=jsonText.finalResponse4:-1==d?b=jsonText.finalResponse4:-1>d&&(b=jsonText.finalResponse5),1<e?c=jsonText.finalResponse6:1==e?c=jsonText.finalResponse7:0==e?c=jsonText.finalResponse7:-1==e?c=jsonText.finalResponse7:-1>e&&(c=jsonText.finalResponse8),a=f+b+c,a},mainScene.hideData=function(a){a||(dataTable.visible=!1),line.visible=!1;for(var b=0;b<xArray.length;b++)xArray[b].visible=!1;for(var b=0;b<graphAxisTextArray.length;b++)graphAxisTextArray[b].visible=!1},mainScene.chooseGraph=function(a){lineButton=this.add.image(200,123,"buttonLarge").setInteractive({useHandCursor:!0}),lineButton.on("pointerdown",function(){23==textNumber&&(broken=!0),this.hideGraphButtons(),this.createLinePlot(a)},this),lineButtonLabel=this.add.text(93,110,jsonText.graphButtonLabel1,{fontSize:"20px",fill:"#000"}).setFontFamily("Verdana"),stemButton=this.add.image(200,223,"buttonLarge").setInteractive({useHandCursor:!0}),stemButton.on("pointerdown",function(){19==textNumber&&(broken=!0),this.hideGraphButtons(),this.createStemAndLeafPlot(a)},this),stemButtonLabel=this.add.text(93,210,jsonText.graphButtonLabel2,{fontSize:"20px",fill:"#000"}).setFontFamily("Verdana")},mainScene.hideGraphButtons=function(){bubbleText.text="",bubbleVisible&&bubbleSprite.anims.play("bubbleClose"),lineButton.visible=!1,lineButtonLabel.visible=!1,stemButton.visible=!1,stemButtonLabel.visible=!1},mainScene.createLinePlot=function(a){for(var b=0;b<speedArray.length;b++)namesArray[b].visible=!1,speedArray[b].visible=!1,lifeArray[b].visible=!1;var c;a==lifeArray?(c="12px",correctGraphType=!1):(c="16px",correctGraphType=!0);for(var d,e=[],b=0;b<a.length;b++)d=a[b].text,e.push(d);e.splice(0,1);var f,g=e.sort(function(c,a){return c-a}),h=0;sortedDisplayArray=[];for(var b=0;b<g.length;b++)f=this.add.text(85+32*b-h,100,g[b],{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana"),sortedDisplayArray.push(f),10>g[b]&&(h+=8);line=this.add.graphics(),line.visible=!0,line.lineStyle(1,33030,1),line.beginPath(),line.moveTo(100,450),line.lineTo(500,450),line.moveTo(100,450),line.lineTo(100,150),line.closePath(),line.strokePath();var j;graphAxisTextArray=[];for(var k=g[g.length-1]-g[0]+1,l=400/k,b=0;b<k;b++)j=this.add.text(100+(b+.5)*l,475,b+parseFloat(g[0]),{fontSize:c,fill:"#008106"}).setFontFamily("Verdana").setOrigin(.5),graphAxisTextArray.push(j);var m,n=425;xArray=[];for(var o=[],p=[],q=1e3,b=0;b<sortedDisplayArray.length;b++){if(m=100+(g[b]-g[0]+.5)*l,g[b]==g[b-1]?n-=50:n=425,broken&&0==b%3){sortedDisplayArray[b].visible=!1;var r={x:sortedDisplayArray[b].x,y:sortedDisplayArray[b].y,startX:sortedDisplayArray[b].x,startY:sortedDisplayArray[b].y,targetX:m,targetY:n,value:g[b]};brokenLinePlotArray.push(r)}else o.push(m),p.push(n);q+=150,this.tweens.add({targets:sortedDisplayArray[b],x:m,y:n,ease:"Sine.easeIn",delay:q,duration:500}),this.tweens.add({targets:sortedDisplayArray[b],alpha:0,ease:"Sine.easeIn",delay:q+450,duration:50})}for(var s,b=0;b<o.length;b++)s=this.add.text(o[b],p[b],"X",{fontSize:"22px",fill:"#008106"}).setFontFamily("Arial").setOrigin(.5),s.alpha=0,this.tweens.add({targets:s,alpha:1,ease:"Sine.easeIn",delay:1675+150*b,duration:25}),xArray.push(s);var t;broken?(t=jsonText.lineBrokenResponse,this.correctBrokenLinePlot()):t=this.changeText(),this.time.delayedCall(5e3,function(){this.createBubble(715,276,t)},[],this)},mainScene.correctBrokenLinePlot=function(){brokenType="lp",brokenAmount=5;for(var a,b=0;b<brokenLinePlotArray.length;b++){a=this.add.text(brokenLinePlotArray[b].x,brokenLinePlotArray[b].y,brokenLinePlotArray[b].value,{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana").setInteractive({useHandCursor:!0}),a.targetX=brokenLinePlotArray[b].targetX,a.targetY=brokenLinePlotArray[b].targetY,a.startX=brokenLinePlotArray[b].startX,a.startY=brokenLinePlotArray[b].startY,a.unitText=brokenLinePlotArray[b].unitValue,a.matched=!1,this.input.setDraggable(a),this.input.on("drag",function(a,b,c,d){b.x=c,b.y=d,b.matched=!1});var c=this;this.input.on("dragend",function(a,b){if(b.x>=b.targetX-25&&b.x<=b.targetX+45&&90<=b.y&&510>=b.y){b.x=b.targetX-11,b.y=b.targetY-11;var d=c.add.text(b.targetX,b.targetY,"X",{fontSize:"22px",fill:"#008106"}).setFontFamily("Arial").setOrigin(.5);xArray.push(d),b.matched||(b.visible=!1,brokenAmount--,b.matched=!0,0==brokenAmount&&broken&&(broken=!1,speechText=c.changeText(),c.createBubble(715,276,speechText)))}else c.tweens.add({targets:b,x:b.startX,y:b.startY,ease:"Sine.easeIn",duration:500})})}},mainScene.createStemAndLeafPlot=function(a){correctGraphType=!(a!=lifeArray);for(var b=0;b<speedArray.length;b++)namesArray[b].visible=!1,speedArray[b].visible=!1,lifeArray[b].visible=!1;for(var c,d=[],b=0;b<a.length;b++)c=a[b].text,d.push(c);d.splice(0,1);var e,f=d.sort(function(c,a){return c-a}),g=0;sortedDisplayArray=[];for(var b=0;b<f.length;b++)e=this.add.text(85+32*b-g,100,f[b],{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana"),sortedDisplayArray.push(e),10>f[b]&&(g+=8);var h=f[f.length-1],j=this.add.text(100,150,"Stem",{fontSize:"18px",fill:"#008106"}).setFontFamily("Verdana");j.visible=!1;var k=this.add.text(100,220,0,{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana");k.visible=!1;var l=this.add.text(100,290,1,{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana");l.visible=!1;var m=this.add.text(100,360,2,{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana");m.visible=!1;var n=this.add.text(100,430,3,{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana");n.visible=!1;var o=this.add.text(202,150,"Leaf",{fontSize:"18px",fill:"#008106"}).setFontFamily("Verdana");o.visible=!1,stemPlotArray.push(j,k,l,m,n,o),this.time.delayedCall(150,function(){j.visible=!0},[],this),this.time.delayedCall(300,function(){k.visible=!0},[],this);var p=1e3,q=32;30<=h?this.time.delayedCall(750,function(){n.visible=!0},[],this):p=750,20<=h?this.time.delayedCall(600,function(){m.visible=!0},[],this):p=600,10<=h?this.time.delayedCall(450,function(){l.visible=!0},[],this):(p=450,10<=h&&20>=h?q=28:10>h&&(q=24)),1e3==p?this.time.delayedCall(900,function(){o.visible=!0},[],this):this.time.delayedCall(p+150,function(){o.visible=!0},[],this);for(var r=202-q,s=220,t=[],u=[],v=[],b=0;b<sortedDisplayArray.length;b++){if(10>f[b]?(r+=q,sortedDisplayArray[b].unitsText=sortedDisplayArray[b].text):20>f[b]?(10>f[b-1]&&(r=170),r+=q,s=290,sortedDisplayArray[b].unitsText=sortedDisplayArray[b].text-10):30>f[b]?(20>f[b-1]&&(r=170),r+=q,s=360,sortedDisplayArray[b].unitsText=sortedDisplayArray[b].text-20):40>f[b]&&(30>f[b-1]&&(r=170),r+=q,s=430,sortedDisplayArray[b].unitsText=sortedDisplayArray[b].text-30),broken&&0==b%3){sortedDisplayArray[b].visible=!1;var w={x:sortedDisplayArray[b].x,y:sortedDisplayArray[b].y,startX:sortedDisplayArray[b].x,startY:sortedDisplayArray[b].y,targetX:r,targetY:s,value:f[b],unitValue:sortedDisplayArray[b].unitsText};brokenStemLeafArray.push(w)}p+=150,this.tweens.add({targets:sortedDisplayArray[b],x:r,y:s,ease:"Sine.easeIn",delay:p,duration:500}),t.push(r),u.push(s),broken&&0==b%3?v.push(""):v.push(sortedDisplayArray[b].unitsText)}for(var x,b=0;b<v.length;b++)x=this.add.text(t[b],u[b],v[b],{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana"),x.alpha=0,this.tweens.add({targets:x,alpha:1,ease:"Sine.easeIn",delay:p-1750+150*b,duration:50}),unitsOnlyArray.push(x);for(var b=0;b<sortedDisplayArray.length;b++)this.tweens.add({targets:sortedDisplayArray[b],alpha:0,ease:"Sine.easeIn",delay:p-1775+150*b,duration:50});var y;broken?(y=jsonText.stemBrokenResponse,this.correctBrokenStemLeaf()):y=this.changeText(),this.time.delayedCall(p+1e3,function(){this.createBubble(715,276,y)},[],this)},mainScene.correctBrokenStemLeaf=function(){brokenAmount=5,brokenType="s&l";for(var a,b=0;b<brokenStemLeafArray.length;b++){a=this.add.text(brokenStemLeafArray[b].x,brokenStemLeafArray[b].y,brokenStemLeafArray[b].value,{fontSize:"16px",fill:"#008106"}).setFontFamily("Verdana").setInteractive({useHandCursor:!0}),a.targetX=brokenStemLeafArray[b].targetX,a.targetY=brokenStemLeafArray[b].targetY,a.startX=brokenStemLeafArray[b].startX,a.startY=brokenStemLeafArray[b].startY,a.unitText=brokenStemLeafArray[b].unitValue,a.matched=!1,this.input.setDraggable(a),this.input.on("drag",function(a,b,c,d){b.x=c,b.y=d});var c=this;"s&l"==brokenType&&this.input.on("dragend",function(a,b){b.x>=b.targetX-40&&b.x<=b.targetX+60&&b.y>=b.targetY-40&&b.y<=b.targetY+60?(b.x=b.targetX,b.y=b.targetY,b.text=b.unitText,!b.matched&&(brokenAmount--,b.matched=!0,sortedDisplayArray.push(b),0==brokenAmount&&broken&&(broken=!1,speechText=c.changeText(),c.createBubble(715,276,speechText)))):c.tweens.add({targets:b,x:b.startX,y:b.startY,ease:"Sine.easeIn",duration:500})})}},mainScene.addIngredients=function(){var a=this.add.image(150,100,"buttonLarge").setInteractive({useHandCursor:!0});a.on("pointerdown",function(){this.ingredientSelected(1)},this);var b=this.add.text(45,83,possibleIngredientsArray[0][0],{fontSize:"28px",fill:"#000"}).setFontFamily("Verdana"),c=this.add.image(230,100,"ingredients");c.setScale(2),c.setFrame(possibleIngredientsArray[0][1]);var d=this.add.image(150,200,"buttonLarge").setInteractive({useHandCursor:!0});d.on("pointerdown",function(){this.ingredientSelected(2)},this);var e=this.add.text(45,183,possibleIngredientsArray[1][0],{fontSize:"28px",fill:"#000"}).setFontFamily("Verdana"),f=this.add.image(230,200,"ingredients");f.setScale(2),f.setFrame(possibleIngredientsArray[1][1]);var g=this.add.image(150,300,"buttonLarge").setInteractive({useHandCursor:!0});g.on("pointerdown",function(){this.ingredientSelected(3)},this);var h=this.add.text(45,283,possibleIngredientsArray[2][0],{fontSize:"28px",fill:"#000"}).setFontFamily("Verdana"),i=this.add.image(230,300,"ingredients");i.setScale(2),i.setFrame(possibleIngredientsArray[2][1]),ingredientsButtonArray=[a,b,c,d,e,f,g,h,i]},mainScene.ingredientSelected=function(a){for(var b,c=0;c<ingredientsButtonArray.length;c++)ingredientsButtonArray[c].visible=!1;var d;bubbleText.text="",bubbleSprite.anims.play("bubbleClose"),1==a?(d=possibleIngredientsArray[0][0],b=possibleIngredientsArray[0][1],possibleIngredientsArray.splice(0,1)):2==a?(d=possibleIngredientsArray[1][0],b=possibleIngredientsArray[1][1],possibleIngredientsArray.splice(1,1)):3==a&&(d=possibleIngredientsArray[2][0],b=possibleIngredientsArray[2][1],possibleIngredientsArray.splice(2,1)),"none"==extraIngredient1.name?(extraIngredient1.name=d,extraIngredient1.frame=b):"none"==extraIngredient2.name?(extraIngredient2.name=d,extraIngredient2.frame=b):"none"==extraIngredient3.name&&(extraIngredient3.name=d,extraIngredient3.frame=b),this.time.delayedCall(250,function(){var a=mainScene.changeText();mainScene.createBubble(715,276,a)},[],this)},mainScene.zoomToLab=function(){var a=this.cameras.main;a.zoomTo(3,1150),a.pan(215,350,700),this.time.delayedCall(1150,function(){a.zoomTo(5,400)},[],this),this.time.delayedCall(1600,function(){mainScene.scene.stop("main"),mainScene.scene.start("warehouse")},[],this)},mainScene.shuffle=function(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a},mainScene.findMode=function(a){var b={},c=[],d=0;for(var e in a)a[e]in b||(b[a[e]]=0),b[a[e]]++,b[a[e]]==d?c.push(a[e]):b[a[e]]>d&&(d=b[a[e]],c=[a[e]]);return c};var cratesArray,ingredientsCollected,correctChoice,correctAvailable,tweenDuration,conveyorBelt,conveyorBelt2,madScientistWarehouse,cratesCollectedText,quelchSfx,smashSfx,speechBubbleSfx,conveyorSFX,warehouseScene=new Phaser.Scene("warehouse");warehouseScene.create=function(){cratesArray=[],ingredientsCollected=0,correctChoice=extraIngredient1.frame,correctAvailable=!1,tweenDuration=7e3;var a=this.add.image(512,276,"blankBackground");a.setScale(2),conveyorBelt=this.add.sprite(512,526,"conveyor"),conveyorBelt.setScale(3,2),conveyorBelt.anims.play("conveyorActive"),conveyorBelt2=this.add.sprite(512,250,"conveyor"),conveyorBelt2.setScale(3,2),conveyorBelt2.anims.play("conveyorActiveRight");var b=this.add.sprite(470,333,"crates");b.setFrame(correctChoice),b.visible=!1,cratesCollectedText=this.add.text(512,317,"= "+ingredientsCollected,{fontSize:"26px",fill:"#fff"}).setFontFamily("Verdana"),cratesCollectedText.visible=!1;for(var c=9500,d=0;7>d;d++)this.createCrate(c,"left"),this.createCrate(c,"right"),c+=1e3;madScientistWarehouse=this.add.sprite(1180,480,"madScientist"),madScientistWarehouse.setScale(2),madScientistWarehouse.anims.play("msWalk"),this.tweens.add({targets:madScientistWarehouse,x:930,ease:"Sine.easeIn",delay:0,duration:2e3}),this.time.delayedCall(2e3,function(){madScientistWarehouse.anims.stop("msWalk"),madScientistWarehouse.anims.play("msStand")},[],this);var e="This is our warehouse. Grab me 15 lots of "+extraIngredient1.name+" by clicking on the crates. Join me in the lab when you're finished.";this.time.delayedCall(2250,function(){this.createBubble(835,276,e)},[],this),this.time.delayedCall(9500,function(){madScientistWarehouse.anims.stop("msStand"),madScientistWarehouse.anims.play("msWalk"),b.visible=!0,cratesCollectedText.visible=!0},[],this),this.tweens.add({targets:madScientistWarehouse,x:1180,ease:"Sine.easeIn",delay:9500,duration:2e3}),mute||(squelchSfx=this.sound.add("squelch"),smashSfx=this.sound.add("smash"),speechBubbleSfx=this.sound.add("pop"),conveyorSFX=this.sound.add("conveyor",{loop:!0,volume:.3}),conveyorSFX.play())},warehouseScene.createCrate=function(a,b){var c,d,e,f,g=[0,1,2,3,4,5,correctChoice];correctAvailable?f=g[Math.floor(Math.random()*g.length)]:(f=correctChoice,correctAvailable=!0),"left"==b?(c=1200,d=410,e=-200):(c=-200,d=134,e=1200);var h=this.add.sprite(c,d,"crates").setInteractive({useHandCursor:!0});h.setScale(2),h.setFrame(f),h.frameUsed=f,h.direction=b,h.on("pointerdown",function(){h.visible=!1,warehouseScene.crateClicked(h.frameUsed)}),h.tween1=this.tweens.add({targets:h,x:e,ease:"Sine.easeIn",delay:a,duration:function(){return tweenDuration},repeat:-1,onRepeat:function(){h.visible=!0,h.tween1.restart()}}),cratesArray.push(h)},warehouseScene.crateClicked=function(a){a==correctChoice?(ingredientsCollected++,!mute&&smashSfx.play(),cratesCollectedText.text="= "+ingredientsCollected,3==ingredientsCollected?tweenDuration=5200:9==ingredientsCollected?tweenDuration=4300:9==ingredientsCollected?tweenDuration=3400:12==ingredientsCollected?tweenDuration=2650:15==ingredientsCollected&&(tweenDuration=7e3,this.time.delayedCall(750,function(){warehouseScene.endScene()},[],this))):warehouseScene.splatter(a)},warehouseScene.splatter=function(a){var b=this.add.sprite(512,276,"splatter");b.setFrame(a),b.setScale(3,2),this.tweens.add({targets:b,alpha:0,ease:"Sine.easeIn",delay:250,duration:2e3}),mute||squelchSfx.play()},warehouseScene.endScene=function(){for(var a=0;a<cratesArray.length;a++)cratesArray[a].tween1.stop();mute||conveyorSFX.stop(),conveyorBelt.anims.stop("conveyorActive"),conveyorBelt.setFrame(3),conveyorBelt2.anims.stop("conveyorActiveRight"),conveyorBelt2.setFrame(3);var b=this.add.sprite(512,526,"buttonLarge").setInteractive({useHandCursor:!0});b.on("pointerdown",this.toTheLab),this.add.text(517,526,jsonText.warehouseButton1,{fontSize:"38px",fill:"#000"}).setFontStyle("bold italic").setFontFamily("Arial").setPadding({right:16}).setOrigin(.5)},warehouseScene.toTheLab=function(){warehouseScene.scene.stop("warehouse"),warehouseScene.scene.start("lab")},warehouseScene.createBubble=function(a,b,c){var d=this.add.sprite(a,b,"speechBubble");d.setScale(2),d.setTint(16711601),d.on("animationcomplete",function(a,b){this.emit("animationcomplete_"+a.key,a,b)},d),d.anims.play("bubbleOpen"),d.on("animationcomplete_bubbleOpen",function(){d.setFrame(3)}),d.on("animationcomplete_bubbleClose",function(){d.destroy()});var e=this.add.text(a,b-20,c,{fontSize:"26px",fill:"#000",wordWrap:{width:320,useAdvancedWrap:!0}}).setFontFamily("Verdana").setOrigin(.5);e.visible=!1,this.time.delayedCall(250,function(){e.visible=!0,madScientistWarehouse.anims.play("msTalk"),mute||speechBubbleSfx.play()},[],this),this.time.delayedCall(7e3,function(){madScientistWarehouse.anims.play("msStand"),e.text="",d.anims.play("bubbleClose")},[],this)};var madScientistLabSprite,monster,victim,treadmill,treadmillTwo,speedText,lifeText,finished,readyToLeave,screamSfx,growlSfx,treadmillSfx,wooshSfx,zapSfx,labScene=new Phaser.Scene("lab");labScene.create=function(){"none"==extraIngredient1.name&&(extraIngredient1.name="Soda");LoLApi("progress",{currentProgress:6,maximumProgress:13}),finished=!1,readyToLeave=!1;var a=this.add.image(512,276,"labBackground");a.setScale(2),this.add.image(850,200,"labSign"),madScientistLabSprite=this.add.sprite(880,480,"madScientist"),madScientistLabSprite.setScale(2),madScientistLabSprite.anims.play("msStand"),treadmill=this.add.sprite(200,500,"treadmill"),treadmill.setScale(2),treadmillTwo=this.add.sprite(500,500,"treadmill"),treadmillTwo.setScale(2),monster=this.add.sprite(200,436,"monsters"),monster.setScale(2),monster.setFrame(2),victim=this.add.sprite(500,436,"victims"),victim.setScale(2),victim.setFrame(0);var b=jsonText.labSpeech1;this.time.delayedCall(750,function(){this.createBubble(785,276,b)},[],this),this.add.text(445,206,"Speed (mph) :",{fontSize:"15px",fill:"#008106"}).setFontFamily("Verdana").setFontStyle("bold"),speedText=this.add.text(590,206,"0",{fontSize:"15px",fill:"#008106"}).setFontFamily("Verdana").setFontStyle("bold"),this.add.text(445,271,"Lifetime (sec) :",{fontSize:"15px",fill:"#008106"}).setFontFamily("Verdana").setFontStyle("bold"),lifeText=this.add.text(590,271,"0",{fontSize:"15px",fill:"#008106"}).setFontFamily("Verdana").setFontStyle("bold"),nextButton=this.add.sprite(512,526,"buttonLarge").setInteractive({useHandCursor:!0});var c=this;nextButton.on("pointerdown",function(){c.time.delayedCall(500,function(){labScene.nextStep()},[],this)}),nextButton.visible=!1,nextButtonLabel=this.add.text(517,526,jsonText.mainButton1,{fontSize:"38px",fill:"#000"}).setFontStyle("bold italic").setFontFamily("Arial").setPadding({right:16}).setOrigin(.5),nextButtonLabel.visible=!1,mute||(screamSfx=this.sound.add("scream"),zapSfx=this.sound.add("zap"),growlSfx=this.sound.add("growl"),wooshSfx=this.sound.add("woosh"),speechBubbleSfx=this.sound.add("pop"),treadmillSfx=this.sound.add("treadmill"))},labScene.setResults=function(){var a,b,c,d;return"none"==extraIngredient3.name?"none"==extraIngredient2.name?"none"!=extraIngredient1.name&&(a=extraIngredient1.name,d=1):(a=extraIngredient2.name,d=2):(a=extraIngredient3.name,d=3),a===jsonText.possIngredients0?(b=7,c=8):a===jsonText.possIngredients1?(b=4,c=12):a===jsonText.possIngredients2?(b=6,c=9):a===jsonText.possIngredients3?(b=5,c=11):a===jsonText.possIngredients4?(b=6,c=12):a===jsonText.possIngredients5?(b=6,c=10):void 0,(1==d?(extraIngredient1.speed=b,extraIngredient1.lifetime=c):2==d?(extraIngredient2.speed=b,extraIngredient2.lifetime=c):3==d&&(extraIngredient3.speed=b,extraIngredient3.lifetime=c),[a,b,c])},labScene.testAnimation=function(){var a=this.setResults(),b=this.add.sprite(200,436,"electricEffect");b.setScale(3.5),b.anims.play("electricEffect"),mute||zapSfx.play(),this.time.delayedCall(500,function(){b.anims.stop("electricEffect"),b.visible=!1,monster.setFrame(1),mute||(zapSfx.stop(),growlSfx.play({volume:1.5}))},[],this),this.time.delayedCall(800,function(){monster.setFrame(5)},[],this),this.time.delayedCall(1300,function(){treadmill.anims.play("treadmillActive"),treadmillTwo.anims.play("treadmillActive"),monster.anims.play("monsterRun"),victim.anims.play("victimRun"),mute||(screamSfx.play(),treadmillSfx.play({loop:!0,volume:.75}))},[],this);var c;this.time.delayedCall(1e3*a[2],function(){monster.anims.stop("monsterRun"),monster.visible=!1,c=this.add.sprite(monster.x,monster.y,"zombieDeath"),c.setScale(2),c.anims.play("death"),mute||wooshSfx.play({volume:2}),this.tweens.add({targets:c,x:-100,ease:"Sine.easeIn",delay:300,duration:500})},[],this);for(var d=0,e=0,f=0,g=0;f<a[2];)f++,this.time.delayedCall(1e3*f,function(){if(d++,lifeText.text=d,d==a[2]){var b=jsonText.labSpeech2+a[2]+jsonText.labSpeech3+a[1]+jsonText.labSpeech4;finished=!0,this.time.delayedCall(2e3,function(){this.createBubble(785,276,b)},[],this)}},[],this);for(;g<a[1];)g++,this.time.delayedCall(500*g,function(){e++,speedText.text=e},[],this)},labScene.createBubble=function(a,b,c){bubbleSprite=this.add.sprite(a,b,"speechBubble"),bubbleSprite.setScale(2),bubbleSprite.setTint(16711601),bubbleSprite.on("animationcomplete",function(a,b){this.emit("animationcomplete_"+a.key,a,b)},bubbleSprite),bubbleSprite.anims.play("bubbleOpen"),bubbleSprite.on("animationcomplete_bubbleOpen",function(){bubbleSprite.setFrame(3)}),bubbleSprite.on("animationcomplete_bubbleClose",function(){bubbleSprite.destroy()}),bubbleText=this.add.text(a,b-20,c,{fontSize:"26px",fill:"#000",wordWrap:{width:320,useAdvancedWrap:!0}}).setFontFamily("Verdana").setOrigin(.5),bubbleText.visible=!1,this.time.delayedCall(250,function(){bubbleText.visible=!0,madScientistLabSprite.anims.play("msTalk"),mute||speechBubbleSfx.play()},[],this),this.time.delayedCall(6e3,function(){madScientistLabSprite.anims.play("msStand"),nextButton.visible=!0,nextButtonLabel.visible=!0},[],this)},labScene.nextStep=function(){bubbleText.text="",bubbleSprite.anims.play("bubbleClose"),madScientistLabSprite.anims.play("msStand"),nextButton.visible=!1,nextButtonLabel.visible=!1,this.time.delayedCall(500,function(){if(!finished)labScene.testAnimation();else if(!readyToLeave){readyToLeave=!0;var a=jsonText.labSpeech5;this.createBubble(785,276,a)}else this.time.delayedCall(500,function(){mute||treadmillSfx.stop(),labScene.scene.stop("lab"),labScene.scene.start("main")},[],this)},[],this)};var gameScene=new Phaser.Scene("Game"),config={type:Phaser.AUTO,width:1024,height:576,parent:"phaser-app",pixelArt:!0,scene:[bootScene,preloadScene,menuScene,mainScene,warehouseScene,labScene,gameScene],backgroundColor:"#ccc"},game=new Phaser.Game(config);function LoLApi(a,b){parent.postMessage({message:a,payload:JSON.stringify(b)},"*")}